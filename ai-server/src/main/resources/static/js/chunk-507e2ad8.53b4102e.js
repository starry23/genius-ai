(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-507e2ad8"],{"05aa":function(t,e,a){"use strict";a("25db")},"25db":function(t,e,a){},fb1f:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page_warp"},[a("div",{staticClass:"page_list-head"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.addAdv}},[t._v("新增导航")])],1),a("div",{staticClass:"content"},[a("el-table",{staticStyle:{width:"100%"},attrs:{height:"85vh",data:t.tableData}},[a("el-table-column",{attrs:{label:"序号",type:"index"}}),t._l(t.tableColumnList,(function(t){return a("el-table-column",{key:t.prop,attrs:{prop:t.prop,label:t.label}})})),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(){return t.editAdv(e.row)}}},[t._v("编辑")]),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(){return t.topBarConfigDeleteFn(e.row)}}},[t._v("删除")])]}}])})],2)],1),a("addorEdit",{ref:"addorEditRef",attrs:{topBarConfigListFn:t.topBarConfigListFn}})],1)},o=[],n=a("c7eb"),l=a("1da1"),s=(a("d3b7"),a("159b"),a("b775"));function i(){return Object(s["a"])({url:"/api/manager/topBarConfig",method:"get"})}function u(t){return Object(s["a"])({url:"/api/manager/topBarConfigSaveOrUpdate",method:"post",data:t})}function c(t){return Object(s["a"])({url:"/api/manager/topBarConfig/".concat(t),method:"delete"})}var p=[{prop:"buttonName",label:"导航标题名称"},{prop:"buttonDesc",label:"描述内容"},{prop:"_buttonType",label:"展示方式"},{prop:"imageUrl",label:"展示图片地址"},{prop:"jumpUrl",label:"跳转地址"},{prop:"createTime",label:"创建时间"}],m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{"destroy-on-close":!0,title:t.rowData?"编辑导航标题":"新建导航标题",visible:t.dialogVisible,width:"550px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-form",{ref:"form",attrs:{rules:t.rules,model:t.form,"label-width":"150px"}},[a("el-form-item",{attrs:{label:"导航标题名称",prop:"buttonName"}},[a("el-input",{attrs:{placeholder:"请输入导航标题名称"},model:{value:t.form.buttonName,callback:function(e){t.$set(t.form,"buttonName",e)},expression:"form.buttonName"}})],1),a("el-form-item",{attrs:{label:"展示方式",prop:"buttonType"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择展示方式"},model:{value:t.form.buttonType,callback:function(e){t.$set(t.form,"buttonType",e)},expression:"form.buttonType"}},[a("el-option",{attrs:{label:"弹框展示",value:10}}),a("el-option",{attrs:{label:"点击跳转",value:20}})],1)],1),a("el-form-item",{attrs:{label:"导航描述内容",prop:"buttonDesc"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入导航标题名称"},model:{value:t.form.buttonDesc,callback:function(e){t.$set(t.form,"buttonDesc",e)},expression:"form.buttonDesc"}})],1),a("el-form-item",{attrs:{label:"展示图片地址",prop:"imageUrl"}},[a("el-input",{attrs:{placeholder:"请输入展示图片地址"},model:{value:t.form.imageUrl,callback:function(e){t.$set(t.form,"imageUrl",e)},expression:"form.imageUrl"}})],1),a("el-form-item",{attrs:{label:"点击跳转地址",prop:"jumpUrl"}},[a("el-input",{attrs:{placeholder:"请输入点击跳转地址"},model:{value:t.form.jumpUrl,callback:function(e){t.$set(t.form,"jumpUrl",e)},expression:"form.jumpUrl"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.handleClose}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("确 定")])],1)],1)},f=[],b=(a("e9c4"),{props:["topBarConfigListFn"],data:function(){return{rowData:null,dialogVisible:!1,form:{buttonName:"",buttonDesc:"",buttonType:"",imageUrl:"",jumpUrl:""},rules:{buttonName:[{required:!0,message:"导航标题名称不能为空"}],buttonDesc:[{required:!1,message:"描述内容不能为空"}],buttonType:[{required:!0,message:"展示方式不能为空"}],imageUrl:[{required:!1,message:"展示图片地址不能为空"}],jumpUrl:[{required:!1,message:"跳转地址地址不能为空"}]}}},methods:{getPage:function(t){this.dialogVisible=!0,this.form={buttonName:"",buttonDesc:"",buttonType:"",imageUrl:"",jumpUrl:""},t&&(this.rowData=t,this.form=JSON.parse(JSON.stringify(t)))},handleClose:function(){this.dialogVisible=!1},topBarConfigSaveOrUpdateFn:function(){var t=this;return Object(l["a"])(Object(n["a"])().mark((function e(){var a;return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u(t.form);case 3:a=e.sent,200===a.code?(t.$message({type:"success",message:"新建成功"}),t.handleClose(),t.topBarConfigListFn()):t.$message({type:"error",message:a.message}),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},submit:function(){var t=this;this.$refs.form.validate((function(e){if(!e)return!1;t.topBarConfigSaveOrUpdateFn()}))}}}),d=b,g=a("2877"),h=Object(g["a"])(d,m,f,!1,null,null,null),v=h.exports,y={data:function(){return{tableColumnList:p,tableData:[]}},components:{addorEdit:v},methods:{topBarConfigDeleteFn:function(t){var e=this;this.$confirm("此操作将永久删除配置, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){c(t.id).then((function(t){200===t.code?(e.$message({type:"success",message:"删除成功!"}),e.topBarConfigListFn()):e.$message({type:"error",message:t.message})}))}))},topBarConfigListFn:function(){var t=this;return Object(l["a"])(Object(n["a"])().mark((function e(){var a;return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i();case 3:a=e.sent,200===a.code&&(t.tableData=a.result||[],t.tableData.forEach((function(t){switch(t.buttonType){case 10:t._buttonType="弹窗展示";break;case 20:t._buttonType="点击跳转";break;default:break}}))),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},addAdv:function(){this.$refs.addorEditRef.getPage()},editAdv:function(t){this.$refs.addorEditRef.getPage(t)}},mounted:function(){this.topBarConfigListFn()}},w=y,C=(a("05aa"),Object(g["a"])(w,r,o,!1,null,"78fcb32e",null));e["default"]=C.exports}}]);