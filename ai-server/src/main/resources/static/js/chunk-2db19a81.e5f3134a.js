(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2db19a81"],{1013:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"vip_strategy_list-warp"},[r("div",{staticClass:"vip_strategy-head"},[r("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.addVip}},[e._v("新增")])],1),r("div",{staticClass:"content"},[r("el-table",{staticStyle:{width:"100%"},attrs:{height:"85vh",data:e.tableData}},[r("el-table-column",{attrs:{label:"序号",type:"index"}}),e._l(e.tableColumnList,(function(e){return r("el-table-column",{key:e.prop,attrs:{prop:e.prop,label:e.label}})})),r("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"text",size:"small"},on:{click:function(){return e.editVip(t.row)}}},[e._v("编辑")]),r("el-button",{attrs:{type:"text",size:"small"},on:{click:function(){return e.deleteFn(t.row)}}},[e._v("删除")])]}}])})],2)],1),r("addorEdit",{ref:"addorEditRef",attrs:{getMemberRightsList:e.getMemberRightsList}})],1)},a=[],i=r("c7eb"),o=r("1da1"),s=(r("d3b7"),r("159b"),r("b775"));function c(e){return Object(s["a"])({url:"/api/manager/currencyList",method:"get",params:e})}function l(e){return Object(s["a"])({url:"/api/manager/currencySaveOrUpdate",method:"post",data:e})}function u(e){return Object(s["a"])({url:"/api/manager/currency/".concat(e),method:"delete"})}var m=[{prop:"currencyCount",label:"币数量"},{prop:"currencyAmount",label:"商品金额"},{prop:"lineAmount",label:"划线金额"},{prop:"recommendNameCn",label:"推荐状态"},{prop:"createBy",label:"创建人"},{prop:"createTime",label:"创建时间"}],p=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.dialogVisible?r("el-dialog",{attrs:{"destroy-on-close":!0,title:e.rowData?"编辑":"新增",visible:e.dialogVisible,width:"650px"},on:{"update:visible":function(t){e.dialogVisible=t}}},[r("el-form",{ref:"form",attrs:{rules:e.rules,model:e.vipStrategyListForm,"label-width":"150px"}},[r("el-form-item",{attrs:{label:"币数量",prop:"currencyCount"}},[r("el-input",{attrs:{type:"number",placeholder:"请输入币数量"},model:{value:e.vipStrategyListForm.currencyCount,callback:function(t){e.$set(e.vipStrategyListForm,"currencyCount",t)},expression:"vipStrategyListForm.currencyCount"}})],1),r("el-form-item",{attrs:{label:"商品金额",prop:"currencyAmount"}},[r("el-input",{attrs:{type:"number",placeholder:"请输入商品金额"},model:{value:e.vipStrategyListForm.currencyAmount,callback:function(t){e.$set(e.vipStrategyListForm,"currencyAmount",t)},expression:"vipStrategyListForm.currencyAmount"}})],1),r("el-form-item",{attrs:{label:"划线金额",prop:"lineAmount"}},[r("el-input",{attrs:{type:"number",placeholder:"请输入划线金额"},model:{value:e.vipStrategyListForm.lineAmount,callback:function(t){e.$set(e.vipStrategyListForm,"lineAmount",t)},expression:"vipStrategyListForm.lineAmount"}})],1),r("el-form-item",{attrs:{label:"推荐",prop:"recommend"}},[r("el-switch",{model:{value:e.vipStrategyListForm.recommend,callback:function(t){e.$set(e.vipStrategyListForm,"recommend",t)},expression:"vipStrategyListForm.recommend"}})],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:e.handleClose}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("确 定")])],1)],1):e._e()},d=[],b=(r("e9c4"),{props:["getMemberRightsList"],data:function(){return{rowData:null,dialogVisible:!1,resMemberList:[],vipStrategyListForm:{currencyCount:"",currencyAmount:"",lineAmount:"",recommend:!1},rules:{currencyCount:[{required:!0,message:"请输入币数量"}],currencyAmount:[{required:!0,message:"请输入商品金额"}],lineAmount:[{required:!0,message:"请输入划线金额"}],recommend:[{required:!1,message:"请输入划线金额"}]}}},methods:{getPage:function(e){console.log(e,"2222"),this.rowData=null,this.dialogVisible=!0,this.vipStrategyListForm={currencyCount:"",currencyAmount:"",lineAmount:"",recommend:!1},e&&(this.rowData=e,this.vipStrategyListForm=JSON.parse(JSON.stringify(e)))},handleClose:function(){this.dialogVisible=!1},memberRightsConfigSaveOrUpdateFn:function(){var e=this;return Object(o["a"])(Object(i["a"])().mark((function t(){var r;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l(e.vipStrategyListForm);case 3:r=t.sent,200===r.code?(e.$message({type:"success",message:"新建成功"}),e.handleClose(),e.getMemberRightsList()):e.$message({type:"error",message:r.message}),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},submit:function(){var e=this;this.$refs.form.validate((function(t){if(!t)return!1;e.memberRightsConfigSaveOrUpdateFn()}))}}}),g=b,f=r("2877"),h=Object(f["a"])(g,p,d,!1,null,null,null),y=h.exports,v={data:function(){return{tableColumnList:m,tableData:[],rightsTypeList:[]}},components:{addorEdit:y},methods:{deleteFn:function(e){var t=this;this.$confirm("此操作将永久删除数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){u(e.id).then((function(e){200===e.code?(t.$message({type:"success",message:"删除成功!"}),t.getMemberRightsList()):t.$message({type:"error",message:e.message})}))}))},getMemberRightsList:function(){var e=this;return Object(o["a"])(Object(i["a"])().mark((function t(){var r;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c();case 3:r=t.sent,200===r.code&&(e.tableData=r.result||[],e.tableData.forEach((function(e){e.recommend?e.recommendNameCn="开启":e.recommendNameCn="关闭"}))),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},addVip:function(){this.$refs.addorEditRef.getPage()},editVip:function(e){this.$refs.addorEditRef.getPage(e)}},mounted:function(){var e=this;return Object(o["a"])(Object(i["a"])().mark((function t(){return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getMemberRightsList();case 2:case"end":return t.stop()}}),t)})))()}},L=v,w=(r("c9f4"),Object(f["a"])(L,n,a,!1,null,"8bd5ef48",null));t["default"]=w.exports},"76fd":function(e,t,r){},c9f4:function(e,t,r){"use strict";r("76fd")}}]);