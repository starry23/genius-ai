(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6470f404"],{"125f":function(e,a,t){},1772:function(e,a,t){"use strict";t.r(a);var r=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"payment_order_list-warp"},[t("div",{staticClass:"payment_order_list-head"},[t("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:e.deleteAllInvalidOrderConfirm}},[e._v("一键删除无效订单")]),t("div",{staticClass:"searchBox"},[t("el-input",{staticStyle:{width:"65%"},attrs:{clearable:"",placeholder:"请输入用户id"},model:{value:e.paramsObj.userId,callback:function(a){e.$set(e.paramsObj,"userId",a)},expression:"paramsObj.userId"}}),t("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:e.getManagerOrdersList}},[e._v("搜索")])],1)],1),t("el-table",{staticStyle:{width:"100%"},attrs:{height:"80vh",data:e.tableData}},[t("el-table-column",{attrs:{label:"序号",type:"index"}}),e._l(e.tableColumnList,(function(e){return t("el-table-column",{key:e.prop,attrs:{prop:e.prop,label:e.label}})}))],2),t("el-pagination",{staticStyle:{float:"right"},attrs:{"current-page":e.paramsObj.current,"page-sizes":[10,20,50,100],"page-size":e.paramsObj.size,layout:"total, sizes, prev, pager, next",total:e.paramsObj.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},n=[],s=t("c7eb"),l=t("1da1"),c=(t("d3b7"),t("159b"),t("b775"));function p(e){return Object(c["a"])({url:"/api/manager/orders",method:"get",params:e})}function i(){return Object(c["a"])({url:"/api/manager/delete/useless/orders",method:"DELETE"})}var o=[{prop:"userId",label:"用户ID"},{prop:"goodsType",label:"商品类型"},{prop:"paySn",label:"支付流水"},{prop:"outPaySn",label:"三方支付流水"},{prop:"payAmount",label:"支付金额"},{prop:"payState",label:"支付状态"},{prop:"payType",label:"支付类型"},{prop:"payMerchant",label:"商户号"},{prop:"payTime",label:"支付时间"},{prop:"createBy",label:"创建人"},{prop:"createTime",label:"创建时间"}],u={data:function(){return{tableData:[],tableColumnList:o,paramsObj:{size:10,current:1,userId:"",total:0}}},methods:{deleteAllInvalidOrderConfirm:function(){var e=this;this.$confirm("此操作将永久删除无效订单, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.deleteAllInvalidOrderFn()}))},deleteAllInvalidOrderFn:function(){var e=this;return Object(l["a"])(Object(s["a"])().mark((function a(){var t;return Object(s["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,i();case 3:t=a.sent,200===t.code?(e.$message({type:"success",message:"删除成功!"}),e.paramsObj.current=1,e.getManagerOrdersList()):e.$message({type:"error",message:t.message}),a.next=10;break;case 7:a.prev=7,a.t0=a["catch"](0),console.log(a.t0);case 10:case"end":return a.stop()}}),a,null,[[0,7]])})))()},getManagerOrdersList:function(){var e=this;return Object(l["a"])(Object(s["a"])().mark((function a(){var t,r,n,l,c,i;return Object(s["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,p(e.paramsObj);case 3:t=a.sent,200===t.code&&(r=t.result,n=r.records,l=r.current,c=r.size,i=r.total,n.forEach((function(e){switch(e.payType){case 10:e.payType="微信支付";break;case 20:e.payType="支付宝支付";break;default:break}switch(e.goodsType){case 10:e.goodsType="会员";break;case 20:e.goodsType="流量包";break;default:break}})),e.tableData=n||[],e.tableData.forEach((function(e){switch(e.payState){case 0:e.payState="支付中";break;case 1:e.payState="支付成功";break;case 2:e.payState="支付失败";break;case 3:e.payState="支付取消";break;case 4:e.payState="已退款";break;default:break}})),e.paramsObj.size=c,e.paramsObj.current=l,e.paramsObj.total=i),a.next=10;break;case 7:a.prev=7,a.t0=a["catch"](0),console.log(a.t0);case 10:case"end":return a.stop()}}),a,null,[[0,7]])})))()},handleSizeChange:function(e){this.paramsObj.size=e,this.getManagerOrdersList()},handleCurrentChange:function(e){this.paramsObj.current=e,this.getManagerOrdersList()}},mounted:function(){this.getManagerOrdersList()}},b=u,d=(t("4291"),t("2877")),h=Object(d["a"])(b,r,n,!1,null,"04a82e47",null);a["default"]=h.exports},4291:function(e,a,t){"use strict";t("125f")}}]);